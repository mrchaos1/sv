{% extends "@Hotel/Default/layout.html.twig" %}
{% block stylesheet %}
{{ parent() }}
<style media="screen">
    .rp-item { margin-bottom:35px; }
    .rp-row { box-shadow: 0 0 20px 0px rgba(71, 63, 63, 0.2); }
    .rp-row-image-container { padding-left:0;padding-right:0;  }
    .rp-image { width:100%;height:300px; }
    .rp-description-container { padding-left:30px;background-color:#fff; }
    .rp-description-container > h4 { padding-top:20px;padding-bottom:10px; }
</style>
{% endblock %}
{% block title %}Номера SV-отеля{% endblock %}
{% block content %}
<section>
  <div class="container">
    <h1>Номера</h1>
    {% for room in rooms %}
    <div class="rp-item">
      <div class=" container">
        <div class="rp-row row">
          <div class="rp-row-image-container col-4">
            <a href="{{ path('hotel_room', { 'roomId': room.id }) }}">
            {% if room.images | length > 0 %}
            {% set image = room.images.0.image %}
            <div class="rp-image" style="background:url({{ image|thumbnail('preview') }}) no-repeat; {{ image.width > image.height ? 'background-size:100% auto;background-position:center;' : 'background-size:100% auto;' }}"></div>
            {% else %}
            <div class="rp-image" style="background:url({{ asset('bundles/hotel/images/placeholder.png') }}) no-repeat; background-position: center; background-size:auto 100%;"></div>
            {% endif %}
            </a>
          </div>
          <div class="col-8 rp-description-container">
            <h4><a href="{{ path('hotel_room', { 'roomId': room.id }) }}">{{ room.title }}</a></h4>

            {% if room.shortText %}<p>{{ room.shortText }}</p>{% elseif room.text %}<p>{{ room.text }}</p>  {% endif %}

            {% if room.priceFrom > 0 or room.priceTo > 0 %}
            <div style="font-size:20px;color:#c0a061;font-weight: 600;">

                {% if room.priceFrom == room.priceTo %}
                  {{ room.priceFrom }}
                {% else %}
                  {{ room.priceFrom > 0 ? "от " ~ room.priceFrom: "" }}
                  {{ room.priceTo > 0 ? "до " ~ room.priceTo: "" }}
                {% endif %}
                руб.
            </div>
            {% endif %}

            <div class="" style="margin-top: 20px;">
              {% set s = false %}
              {% if room.areaSize > 0%}{{ room.areaSize }}м²{% set s = ', ' %}{% endif %}
              {% if room.personsNumber > 0%} {{ s ? s : '' }}до {{ room.personsNumber }}-х гостей {% set s = ', ' %}{% endif %}
              {% if room.floor > 0 %} {{ s ? s : '' }}{{ room.floor }}-й этаж {% set s = ', ' %}{% endif %}
            </div>
            <div class="" style="margin-top: 20px;float:left;">
              <button data-toggle="modal" data-target="#bookModal" type="submit" class="btn btn-primary">Забронировать</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}

  </div>
</section>
{% endblock %}
